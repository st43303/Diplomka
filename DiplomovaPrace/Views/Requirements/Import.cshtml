@model System.Data.DataTable
@using System.Data;
@{
    int i = 0;

    ViewBag.Title = "Import dat";
    Layout = "~/Views/Shared/_Layout.cshtml";
}



@using (Html.BeginForm("Import", "Requirements", FormMethod.Post, new { enctype = "multipart/form-data", @autocomplete = "off" }))
{
    <div class="form-group col-md-12">
        @Html.Label("Zdrojový soubor")
        <input type="file" class="form-control" accept=".csv" name="upload" />
    </div>

    <div class="form-group col-md-3">
        @Html.Label("Hlavička")
        <select name="Header" class="form-control">
            <option value="true">Ano</option>
            <option value="false">Ne</option>
        </select>
    </div>
    <div class="form-group col-md-3">
        @Html.Label("Kódování")
        <select name="Encoding" class="form-control">
            <option value="ASCII">ASCII</option>
            <option value="UTF-7">UTF-7</option>
            <option value="UTF-8">UTF-8</option>
            <option value="UTF-16">UTF-16</option>
            <option value="UTF-32">UTF-32</option>

        </select>
    </div>
    <div class="form-group col-md-3">
        @Html.Label("Oddělovač")
        <select name="Delimiter" class="form-control">
            <option value=",">,</option>
            <option value="|">|</option>
            <option value=";">;</option>
            <option value=":">:</option>
            <option value=" ">mezera</option>
        </select>
    </div>
    <div class="form-group col-md-3">
        @Html.Label("Počet výsledků")
        <select name="Count" class="form-control">
            <option value="5">5</option>
            <option value="10">10</option>
            <option value="20">20</option>
            <option value="30">30</option>
        </select>
    </div>
    <div class="form-group col-md-12">
        <button type="submit" class="btn btn-block btn-primary">Potvrdit</button>
    </div>


}




@if (Model != null)
    {
    <div class="table-responsive">
        <table class="table table-striped table-bordered">
            <thead>
                <tr>
                    @foreach (DataColumn col in Model.Columns)
                    {
                        <th>@col.ColumnName</th>
                    }
                </tr>
            </thead>
            <tbody>

                @foreach (DataRow row in Model.Rows)
                {
                    if (i < ViewBag.Count)
                    {
                        <tr>
                            @foreach (DataColumn col in Model.Columns)
                            {
                                <td>@row[col.ColumnName]</td>
                            }
                        </tr>
                    }

                    i++;
                }
            </tbody>
        </table>
    </div>

    }

